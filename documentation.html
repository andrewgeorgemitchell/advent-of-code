<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advent of Code Solution Structure</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        
        pre {
            background: #f6f8fa;
            padding: 16px;
            border-radius: 6px;
            overflow-x: auto;
        }
        
        code {
            font-family: 'Consolas', 'Monaco', monospace;
            background: #f6f8fa;
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        h1, h2, h3 {
            color: #24292e;
        }
        
        .highlight {
            background: #fff3bf;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>Advent of Code Solution Structure</h1>
    
    <p>This document outlines the conventions and structure for solving Advent of Code challenges using Bun.</p>
    
    <h2>Project Structure</h2>
    
    <p>Each year of Advent of Code challenges should follow this structure:</p>
    
    <pre>
advent-of-code/
├── 2023/
│   ├── dayXX/
│   │   ├── dayXX.data.txt    # Challenge input data
│   │   ├── dayXX.ts          # Solution implementation
│   │   └── dayXX.test.ts     # Tests including example and final answers
│   └── utils/                # Shared utilities
│       └── logger.ts         # Logging utility</pre>
    
    <h2>File Conventions</h2>
    
    <h3>Solution File (dayXX.ts)</h3>
    <ul>
        <li>Export functions with a namespace object named <code>dayXX</code></li>
        <li>Include a <code>parseFileInput</code> function to handle reading/parsing input data</li>
        <li>Keep solution logic modular and testable</li>
        <li>Use TypeScript for type safety</li>
    </ul>
    
    <p>Example:</p>
    <pre>
const parseFileInput = async (input?: string) => {
  const fileString = input ?? 
    await Bun.file(import.meta.dir + '/dayXX.data.txt').text()
  return fileString.split('\n')
}

export const dayXX = {
  parseFileInput,
  // other solution functions...
}</pre>
    
    <h3>Test File (dayXX.test.ts)</h3>
    <ul>
        <li>Use Bun's test runner with <code>bun:test</code></li>
        <li>Include test cases for example inputs</li>
        <li>Include test case for final answer</li>
        <li>Group tests by challenge parts (Part 1, Part 2)</li>
        <li>Use descriptive test names</li>
    </ul>
    
    <p>Example:</p>
    <pre>
import { expect, test } from 'bun:test'
import { dayXX } from './dayXX'

// Part 1
const testInput1 = `example
input
here`

test('Day XX - Part 1: Test input answer', async () => {
  const result = await dayXX.someFunction(testInput1)
  expect(result).toBe(expectedAnswer)
})

test('Day XX - Part 1: Answer', async () => {
  const result = await dayXX.someFunction()
  expect(result).toBe(finalAnswer)
})</pre>
    
    <h3>Data File (dayXX.data.txt)</h3>
    <ul>
        <li>Store the challenge input exactly as provided</li>
        <li>Include as raw text</li>
        <li>No processing/formatting of input data</li>
    </ul>
    
    <h2>Utilities</h2>
    
    <p>Common utilities should be placed in the <code>utils/</code> directory and can be imported by any solution:</p>
    
    <pre>
// utils/logger.ts
export const logger = (opts?: { debug?: boolean }) => {
  const debug = opts?.debug ?? false
  return (...args: Parameters<typeof console.log>) => {
    if (debug) console.log(...args)
  }
}</pre>
    
    <h2>Running Tests</h2>
    
    <p>Use Bun's test runner to verify solutions:</p>
    
    <pre>
# Run all tests
bun test

# Run tests for specific day
bun test day01

# Run tests with pattern matching
bun test -t "Day 01"</pre>
    
    <h2>Best Practices</h2>
    
    <h3>1. Input Handling</h3>
    <ul>
        <li>Always support both example input and file input</li>
        <li>Use <code>import.meta.dir</code> for file paths</li>
        <li>Handle input parsing in a separate function</li>
    </ul>
    
    <h3>2. Testing</h3>
    <ul>
        <li>Test example inputs before attempting final solution</li>
        <li>Include test cases for edge cases</li>
        <li>Keep test descriptions clear and consistent</li>
    </ul>
    
    <h3>3. Code Organization</h3>
    <ul>
        <li>Use TypeScript for better maintainability</li>
        <li>Keep solution logic modular</li>
        <li>Use descriptive variable names</li>
        <li>Add comments for complex logic</li>
    </ul>
    
    <h3>4. Debugging</h3>
    <ul>
        <li>Use the logger utility for debug output</li>
        <li>Add debug options to functions when helpful</li>
        <li>Keep debug output clean and informative</li>
    </ul>
    
    <h2>Getting Started</h2>
    
    <ol>
        <li>Create new day directory: <code>mkdir dayXX</code></li>
        <li>Create required files:
            <pre>touch dayXX/dayXX.data.txt
touch dayXX/dayXX.ts
touch dayXX/dayXX.test.ts</pre>
        </li>
        <li>Copy challenge input to <code>dayXX.data.txt</code></li>
        <li>Implement solution in <code>dayXX.ts</code></li>
        <li>Write tests in <code>dayXX.test.ts</code></li>
        <li>Run tests with <code>bun test</code></li>
    </ol>
</body>
</html> 